<ion-app>
  <ion-split-pane [disabled]="homePage" when="md" contentId="main">
    <ion-menu contentId="main">
      <ion-header>
        <ion-toolbar color="primary">
          <ion-buttons slot="start">
            <ion-menu-button contentId="menu">
              <ion-icon name="close"></ion-icon>
            </ion-menu-button>
          </ion-buttons>
          <ion-title>iconSyntax</ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <ion-list>
          <ion-item button routerLink="/" (click)="onMenuClick()">
            <ion-icon name="home" slot="start"></ion-icon>
            <ion-text> Home </ion-text>
          </ion-item>
          <ion-item button routerLink="/find" (click)="onMenuClick()">
            <ion-icon name="compass" slot="start"></ion-icon>
            <ion-text> Find Icons </ion-text>
          </ion-item>
          <ion-item class="searchbar find" lines="none" *ngIf="findPage">
            <ion-icon name="search" slot="start"></ion-icon>
            <ion-input
              #searchbar
              placeholder="Search"
              (ionChange)="onSearchbar($event)"
            >
            </ion-input>
            <ion-icon name="close" slot="end" (click)="onClear()"></ion-icon>
          </ion-item>
          <ion-item
            class="find"
            lines="none"
            button
            *ngIf="findPage"
            (click)="libraryToggle()"
          >
            <ion-icon name="list" slot="start"></ion-icon>
            <ion-text> Browse </ion-text>
            <ion-icon
              name="arrow-undo-outline"
              slot="end"
              [style.display]="breadcrumbs.length > 0 ? 'block' : 'none'"
              (click)="onClickBack()"
            ></ion-icon>
          </ion-item>
          <ion-list
            #library
            [style.display]="
              libraryVisible &&
              !loadingCategories &&
              (categories$ | async).results.length > 0
                ? 'block'
                : 'none'
            "
            *ngIf="findPage"
          >
            <ion-item-sliding
              *ngFor="let category of (categories$ | async).results"
            >
              <ion-item
                detail="true"
                color="medium"
                button
                (click)="onClickCategory(category.id)"
              >
                <ion-text>{{ category.name }}</ion-text>
              </ion-item>

              <ion-item-options side="end">
                <ion-item-option
                  color="tertiary"
                  routerLink="/category/update/{{ category.id }}"
                >
                  Update
                </ion-item-option>
                <ion-item-option
                  color="danger"
                  (click)="deleteCategory(category.id)"
                >
                  Delete
                </ion-item-option>
              </ion-item-options>
            </ion-item-sliding>
          </ion-list>
          <ion-item
            *ngIf="!isAuthenticated"
            button
            routerLink="/login"
            (click)="onMenuClick()"
          >
            <ion-icon name="log-in" slot="start"></ion-icon>
            <ion-text> Login/Register </ion-text>
          </ion-item>
          <ion-item
            *ngIf="isAuthenticated"
            button
            (click)="logout(); onMenuClick()"
          >
            <ion-icon name="log-out" slot="start"></ion-icon>
            <ion-text> Logout </ion-text>
          </ion-item>
          <ion-item button routerLink="/icon/create" (click)="onMenuClick()">
            <ion-icon name="add" slot="start"></ion-icon>
            <ion-text> Add an Icon </ion-text>
          </ion-item>
          <ion-item routerLink="/about" button (click)="onMenuClick()">
            <ion-icon name="information-circle" slot="start"></ion-icon>
            <ion-text> About Us </ion-text>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>
    <ion-router-outlet id="main"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
